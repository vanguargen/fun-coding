<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>Dongyun's Fun Game</title>
    <style>
      * {
        padding: 0;
        margin: 0;
      }
      canvas {
        background: #eee;
        display: block;
        margin: 0 auto;
      }
    </style>
  </head>
  <body>
    <canvas id="myCanvas" width="480" height="320"></canvas>
    <button id="runButton">StartGame</button>
    <script>
      // JavaScript code goes here
      const canvas = document.getElementById("myCanvas");
      const ctx = canvas.getContext("2d");
      document.getElementById("runButton").addEventListener("click", function() {
        setInterval(draw, 10);
        this.disabled = true;
      })
      document.addEventListener("keydown", keyDownHandler, false);

      function keyDownHandler(e){
       if(e.key==="a"){
          console.log("left")
       }

       if(e.key==="d"){
        console.log("right")
       }
      }

      ctx.beginPath();
      ctx.rect(350, 40, 20, 100);
      ctx.fillStyle = "rgb(200 0 200)";
      ctx.fill();
      ctx.closePath();
      let x=200;
      let y=150;
      let dx=-2;
      let dy=-2;
      let color = "rgb(200 0 200)";
      const ballRadius = 10;
      
      drawpaddle();




      function drawpaddle(){
        ctx.beginPath();
      ctx.rect(200, 280, 100, 20);
      ctx.fillStyle = "rgb(100 0 200)";
      ctx.fill();
      ctx.closePath();
      }
      let a=200;
      let d=100;
      let di=-2;
      function draw() {
        ctx.clearRect(0,0,canvas.width,canvas.height)
        ctx.beginPath();
        ctx.arc(x, y, ballRadius, 0, 2*Math.PI);
        ctx.fillStyle = color;
        ctx.fill();
        ctx.closePath();
        ctx.beginPath();
        ctx.rect(a, 280, 100, 20);
        ctx.fillStyle ="rgb(200 0 200)";
        ctx.fill();
        ctx.closePath();
        a=a+di;
        x=x+dx;
        y=y+dy;
        //console.log(y);
      
        if (y < 0) {
          dy = -dy;
          color = "rgb(20 2 30)";
        }
        if (y > 320) {
          dy = -dy;
          color = "rgb(100 200 300)";
        }
        if(x < 0) {
          dx =-dx;
          color = "rgb(20 0 100)";
        }
        if(x > 480) {
          dx = -dx;
          color = "rgb(2000 300 600)";
        }
      }
    </script>
  </body>
</html>